plugins {
  id 'nebula.dependency-recommender' version '3.6.3'
  id 'nebula.maven-publish' version '4.4.4'
}

allprojects {
  apply plugin: 'idea'
  apply plugin: 'nebula.dependency-recommender'
  // https://github.com/nebula-plugins/nebula-dependency-recommender-plugin/issues/9
  apply plugin: 'nebula.maven-publish'

  group = theGroup
  version = theVersion

  dependencyRecommendations {
    mavenBom file: file("$rootDir/pom.xml")
  }
}

subprojects {
  repositories {
    mavenCentral()
    jcenter()
  }

  tasks.withType(JavaCompile) {
    sourceCompatibility = javaVersion
    targetCompatibility = javaVersion
    options.encoding = 'UTF-8'
  }
}

// importing gradle project from IDEA is preferred to using 'gradle idea'
idea {
  project {
    jdkName = javaVersion
    languageLevel = javaVersion
    vcs = 'Git'
  }
}
