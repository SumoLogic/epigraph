namespace com.example

vartype User extends Person {
  override id: UserId
  override `record`: UserRecord
}

integer UserId extends PersonId

record UserRecord extends PersonRecord {
  id: UserId
  bestFriend: User default id // FIXME compiler doesn't detect missing default
  friends: list[UserRecord]
  users: list[User default id]
  usersShmoozers: list[User/* default shmoozer*/]
  override ids: list[UserId]
  idss: list[list[UserId]]
}

list[User default `record`] UserList extends PersonList

map[String, User] UsersMap extends PersonsMap
