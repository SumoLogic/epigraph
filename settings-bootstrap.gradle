pluginRepositories {
  // pick up gradle plugin from local maven repo
  maven {
    url "file://" + System.getProperty("user.home") + "/.m2/repository"
  }
  gradlePluginPortal()
}

rootProject.name = theName


Map<String, String> modules = [
    'core'                                        : 'epigraph-core',
    'gradle-plugins/java-plugin'                  : 'epigraph-java-gradle-plugin',
    'gradle-plugins/gradle-plugins-common'        : 'epigraph-gradle-plugins-common',
    'gradle-plugins/schema-compiler-plugin'       : 'epigraph-schema-compiler-gradle-plugin',
    'java/codegen'                                : 'epigraph-java-codegen',
    'lang-common'                                 : 'epigraph-lang-common',
    'light-psi'                                   : 'epigraph-light-psi',
    'maven-plugin'                                : 'epigraph-maven-plugin',
    'schema-compiler'                             : 'epigraph-schema-compiler',
    'schema-parser'                               : 'epigraph-schema-parser'
]

modules.each { dir, name ->
  include name
  project(":$name").projectDir = file(dir)
}
